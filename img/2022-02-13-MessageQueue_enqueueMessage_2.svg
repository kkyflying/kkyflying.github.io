<svg id="SvgjsSvg1006" width="967.75" height="1068.5" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1067" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1068" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1087" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1088" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1097" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1098" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1121" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1122" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1131" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1132" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1135" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1136" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1153" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1154" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1169" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1170" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1179" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1180" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1203" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1204" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1207" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1208" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1233" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1234" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1243" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1244" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1251" markerWidth="14" markerHeight="10" refX="10" refY="5" viewBox="0 0 14 10" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1252" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="967.75" height="1068.5" fill="#ffffff"></rect><g id="SvgjsG1009" transform="translate(32,48)"><path id="SvgjsPath1010" d="M 0 0L 562 0L 562 328L 0 328Z" stroke="none" fill="none"></path><g id="SvgjsG1011"><text id="SvgjsText1012" font-family="微软雅黑" text-anchor="start" font-size="18px" width="562px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="18px" weight="400" font-style="" opacity="1" y="4.25" transform="rotate(0)"><tspan id="SvgjsTspan1013" dy="22" x="0"><tspan id="SvgjsTspan1014" style="text-decoration:;"> Message prev;</tspan></tspan><tspan id="SvgjsTspan1015" dy="22" x="0"><tspan id="SvgjsTspan1016" style="text-decoration:;"> for (;;) {</tspan></tspan><tspan id="SvgjsTspan1017" dy="22" x="0"><tspan id="SvgjsTspan1018" style="text-decoration:;">    prev = p;</tspan></tspan><tspan id="SvgjsTspan1019" dy="22" x="0"><tspan id="SvgjsTspan1020" style="text-decoration:;">    p = p.next;</tspan></tspan><tspan id="SvgjsTspan1021" dy="22" x="0"><tspan id="SvgjsTspan1022" style="text-decoration:;">    if (p == null || when &lt; p.when) {</tspan></tspan><tspan id="SvgjsTspan1023" dy="22" x="0"><tspan id="SvgjsTspan1024" style="text-decoration:;">         break;</tspan></tspan><tspan id="SvgjsTspan1025" dy="22" x="0"><tspan id="SvgjsTspan1026" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1027" dy="22" x="0"><tspan id="SvgjsTspan1028" style="text-decoration:;">    if (needWake &amp;&amp; p.isAsynchronous()) {</tspan></tspan><tspan id="SvgjsTspan1029" dy="22" x="0"><tspan id="SvgjsTspan1030" style="text-decoration:;">         needWake = false;</tspan></tspan><tspan id="SvgjsTspan1031" dy="22" x="0"><tspan id="SvgjsTspan1032" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1033" dy="22" x="0"><tspan id="SvgjsTspan1034" style="text-decoration:;"> }</tspan></tspan><tspan id="SvgjsTspan1035" dy="22" x="0"><tspan id="SvgjsTspan1036" style="text-decoration:;"> //就是一个插入队列的操作</tspan></tspan><tspan id="SvgjsTspan1037" dy="22" x="0"><tspan id="SvgjsTspan1038" style="text-decoration:;"> msg.next = p; // invariant: p == prev.next</tspan></tspan><tspan id="SvgjsTspan1039" dy="22" x="0"><tspan id="SvgjsTspan1040" style="text-decoration:;"> prev.next = msg;</tspan></tspan></text></g></g><g id="SvgjsG1041" transform="translate(25,25)"><path id="SvgjsPath1042" d="M 0 0L 582 0L 582 28L 0 28Z" stroke="none" fill="none"></path><g id="SvgjsG1043"><text id="SvgjsText1044" font-family="微软雅黑" text-anchor="middle" font-size="18px" width="582px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="18px" weight="400" font-style="" opacity="1" y="0.25" transform="rotate(0)"><tspan id="SvgjsTspan1045" dy="22" x="291"><tspan id="SvgjsTspan1046" style="text-decoration:;">2. 当Message不是第一条消息，或者执行时间比队列的消息中要晚的情况</tspan></tspan></text></g></g><g id="SvgjsG1047" transform="translate(30,381)"><path id="SvgjsPath1048" d="M 0 0L 630 0L 630 91L 0 91Z" stroke="none" fill="none"></path><g id="SvgjsG1049"><text id="SvgjsText1050" font-family="微软雅黑" text-anchor="start" font-size="16px" width="630px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="3.5" transform="rotate(0)"><tspan id="SvgjsTspan1051" dy="20" x="0"><tspan id="SvgjsTspan1052" style="text-decoration:;">2. 1 此时p=mMessages，即是p指链表头部，进入for第1次循环，把prev=p, 让prev记录链表</tspan></tspan><tspan id="SvgjsTspan1053" dy="20" x="0"><tspan id="SvgjsTspan1054" style="text-decoration:;">头部，让p=p.next，让p指向链表头部的下一个msg，因此，当第1次循环的时候，设链表头</tspan></tspan><tspan id="SvgjsTspan1055" dy="20" x="0"><tspan id="SvgjsTspan1056" style="text-decoration:;">部为第1个消息由，那么prev指向第1个msg，p指向第2个msg， 往后依次类推，当第N次循</tspan></tspan><tspan id="SvgjsTspan1057" dy="20" x="0"><tspan id="SvgjsTspan1058" style="text-decoration:;">环的时候，prev指向第n个msg，p指向第n+1个msg</tspan></tspan></text></g></g><g id="SvgjsG1059" transform="translate(49.25,587.25)"><path id="SvgjsPath1060" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1061"><text id="SvgjsText1062" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1063" dy="23" x="50"><tspan id="SvgjsTspan1064" style="text-decoration:;">msg1</tspan></tspan></text></g></g><g id="SvgjsG1065"><path id="SvgjsPath1066" d="M99.25 534.25L99.25 560.75L99.25 560.75L99.25 583.65" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1067)"></path></g><g id="SvgjsG1069" transform="translate(25,493.75)"><path id="SvgjsPath1070" d="M 0 0L 148.5 0L 148.5 44.5L 0 44.5Z" stroke="none" fill="none"></path><g id="SvgjsG1071"><text id="SvgjsText1072" font-family="微软雅黑" text-anchor="middle" font-size="21px" width="149px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="21px" weight="400" font-style="" opacity="1" y="4.625" transform="rotate(0)"><tspan id="SvgjsTspan1073" dy="26" x="74.5"><tspan id="SvgjsTspan1074" style="text-decoration:;">p=mMessages</tspan></tspan></text></g></g><g id="SvgjsG1075" transform="translate(182,551)"><path id="SvgjsPath1076" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1077"><text id="SvgjsText1078" font-family="微软雅黑" text-anchor="middle" font-size="14px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="14px" weight="400" font-style="" opacity="1" y="9.25" transform="rotate(0)"></text></g></g><g id="SvgjsG1079" transform="translate(268.75,584)"><path id="SvgjsPath1080" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1081"><text id="SvgjsText1082" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1083" dy="23" x="50"><tspan id="SvgjsTspan1084" style="text-decoration:;">msg1</tspan></tspan></text></g></g><g id="SvgjsG1085"><path id="SvgjsPath1086" d="M318.75 532L318.75 558L318.75 558L318.75 580.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1087)"></path></g><g id="SvgjsG1089" transform="translate(244.5,491.5)"><path id="SvgjsPath1090" d="M 0 0L 148.5 0L 148.5 44.5L 0 44.5Z" stroke="none" fill="none"></path><g id="SvgjsG1091"><text id="SvgjsText1092" font-family="微软雅黑" text-anchor="middle" font-size="21px" width="149px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="21px" weight="400" font-style="" opacity="1" y="4.625" transform="rotate(0)"><tspan id="SvgjsTspan1093" dy="26" x="74.5"><tspan id="SvgjsTspan1094" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1095"><path id="SvgjsPath1096" d="M369.75 619L400.5 619L400.5 619L432.25 619" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1097)"></path><rect id="SvgjsRect1099" width="22" height="16" x="390" y="611" fill="#ffffff"></rect><text id="SvgjsText1100" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="22px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="609.375" transform="rotate(0)"><tspan id="SvgjsTspan1101" dy="16" x="401"><tspan id="SvgjsTspan1102" style="text-decoration:;">next</tspan></tspan></text></g><g id="SvgjsG1103" transform="translate(441.25,584)"><path id="SvgjsPath1104" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1105"><text id="SvgjsText1106" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1107" dy="23" x="50"><tspan id="SvgjsTspan1108" style="text-decoration:;">msg2</tspan></tspan></text></g></g><g id="SvgjsG1109" transform="translate(339.25,585)"><path id="SvgjsPath1110" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1111"><text id="SvgjsText1112" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="8.625" transform="rotate(0)"></text></g></g><g id="SvgjsG1113" transform="translate(431.25,493.75)"><path id="SvgjsPath1114" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1115"><text id="SvgjsText1116" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="5" transform="rotate(0)"><tspan id="SvgjsTspan1117" dy="25" x="60"><tspan id="SvgjsTspan1118" style="text-decoration:;">p</tspan></tspan></text></g></g><g id="SvgjsG1119"><path id="SvgjsPath1120" d="M491.25 534.75L491.25 558.875L491.25 558.875L491.25 580.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1121)"></path></g><g id="SvgjsG1123" transform="translate(660.25,584)"><path id="SvgjsPath1124" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1125"><text id="SvgjsText1126" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1127" dy="23" x="50"><tspan id="SvgjsTspan1128" style="text-decoration:;">msg(n)</tspan></tspan></text></g></g><g id="SvgjsG1129"><path id="SvgjsPath1130" d="M710.25 532L710.25 558L710.25 558L710.25 580.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1131)"></path></g><g id="SvgjsG1133"><path id="SvgjsPath1134" d="M761.25 619L792 619L792 619L823.75 619" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1135)"></path><rect id="SvgjsRect1137" width="22" height="16" x="781.5" y="611" fill="#ffffff"></rect><text id="SvgjsText1138" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="22px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="609.375" transform="rotate(0)"><tspan id="SvgjsTspan1139" dy="16" x="792.5"><tspan id="SvgjsTspan1140" style="text-decoration:;">next</tspan></tspan></text></g><g id="SvgjsG1141" transform="translate(832.75,584)"><path id="SvgjsPath1142" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1143"><text id="SvgjsText1144" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1145" dy="23" x="50"><tspan id="SvgjsTspan1146" style="text-decoration:;">msg(n+1)</tspan></tspan></text></g></g><g id="SvgjsG1147" transform="translate(730.75,585)"><path id="SvgjsPath1148" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1149"><text id="SvgjsText1150" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="8.625" transform="rotate(0)"></text></g></g><g id="SvgjsG1151"><path id="SvgjsPath1152" d="M882.75 523L882.75 553.5L882.75 553.5L882.75 580.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1153)"></path></g><g id="SvgjsG1155" transform="translate(636,486)"><path id="SvgjsPath1156" d="M 0 0L 148.5 0L 148.5 44.5L 0 44.5Z" stroke="none" fill="none"></path><g id="SvgjsG1157"><text id="SvgjsText1158" font-family="微软雅黑" text-anchor="middle" font-size="21px" width="149px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="21px" weight="400" font-style="" opacity="1" y="4.625" transform="rotate(0)"><tspan id="SvgjsTspan1159" dy="26" x="74.5"><tspan id="SvgjsTspan1160" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1161" transform="translate(822.75,490.5)"><path id="SvgjsPath1162" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1163"><text id="SvgjsText1164" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="5" transform="rotate(0)"><tspan id="SvgjsTspan1165" dy="25" x="60"><tspan id="SvgjsTspan1166" style="text-decoration:;">p</tspan></tspan></text></g></g><g id="SvgjsG1167"><path id="SvgjsPath1168" d="M159 628L208.5 628L208.5 628L258 628" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1169)"></path></g><g id="SvgjsG1171" transform="translate(145.75,584)"><path id="SvgjsPath1172" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1173"><text id="SvgjsText1174" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="8.625" transform="rotate(0)"><tspan id="SvgjsTspan1175" dy="18" x="60"><tspan id="SvgjsTspan1176" style="text-decoration:;">进入第1次循环</tspan></tspan></text></g></g><g id="SvgjsG1177"><path id="SvgjsPath1178" d="M550 629L601 629L601 629L652 629" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1179)"></path></g><g id="SvgjsG1181" transform="translate(540,591)"><path id="SvgjsPath1182" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1183"><text id="SvgjsText1184" font-family="微软雅黑" text-anchor="middle" font-size="15px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="15px" weight="400" font-style="" opacity="1" y="8.625" transform="rotate(0)"><tspan id="SvgjsTspan1185" dy="18" x="60"><tspan id="SvgjsTspan1186" style="text-decoration:;">进入第n次循环</tspan></tspan></text></g></g><g id="SvgjsG1187" transform="translate(42.25,706.25)"><path id="SvgjsPath1188" d="M 0 0L 646.75 0L 646.75 33L 0 33Z" stroke="none" fill="none"></path><g id="SvgjsG1189"><text id="SvgjsText1190" font-family="微软雅黑" text-anchor="start" font-size="16px" width="647px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="-5.5" transform="rotate(0)"><tspan id="SvgjsTspan1191" dy="20" x="0"><tspan id="SvgjsTspan1192" style="text-decoration:;">2.2 直到n次循环时，p为null或者新消息的执行时间when比p的执行时间p.when更早的话，则</tspan></tspan><tspan id="SvgjsTspan1193" dy="20" x="0"><tspan id="SvgjsTspan1194" style="text-decoration:;">退出循环，把新的msg插入到第n个msg的后面的，完成了消息入队的操作</tspan></tspan></text></g></g><g id="SvgjsG1195" transform="translate(49.25,866)"><path id="SvgjsPath1196" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1197"><text id="SvgjsText1198" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1199" dy="23" x="50"><tspan id="SvgjsTspan1200" style="text-decoration:;">msg(n)</tspan></tspan></text></g></g><g id="SvgjsG1201"><path id="SvgjsPath1202" d="M99.25 814L99.25 840L99.25 840L99.25 862.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1203)"></path></g><g id="SvgjsG1205"><path id="SvgjsPath1206" d="M150.25 901L238 901L238 900L323.15 900" stroke-dasharray="8,5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1207)"></path><rect id="SvgjsRect1209" width="33" height="24" x="220.7" y="889" fill="#ffffff"></rect><text id="SvgjsText1210" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="33px" fill="#323232" font-weight="400" align="top" lineHeight="24px" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="886.625" transform="rotate(0)"><tspan id="SvgjsTspan1211" dy="23" x="237.2"><tspan id="SvgjsTspan1212" style="text-decoration:;">next</tspan></tspan></text></g><g id="SvgjsG1213" transform="translate(326.75,866)"><path id="SvgjsPath1214" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1215"><text id="SvgjsText1216" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1217" dy="23" x="50"><tspan id="SvgjsTspan1218" style="text-decoration:;">msg(n+1)</tspan></tspan></text></g></g><g id="SvgjsG1219" transform="translate(316.75,766)"><path id="SvgjsPath1220" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"></path><g id="SvgjsG1221"><text id="SvgjsText1222" font-family="微软雅黑" text-anchor="middle" font-size="20px" width="120px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="20px" weight="400" font-style="" opacity="1" y="5" transform="rotate(0)"><tspan id="SvgjsTspan1223" dy="25" x="60"><tspan id="SvgjsTspan1224" style="text-decoration:;">p</tspan></tspan></text></g></g><g id="SvgjsG1225" transform="translate(25,768)"><path id="SvgjsPath1226" d="M 0 0L 148.5 0L 148.5 44.5L 0 44.5Z" stroke="none" fill="none"></path><g id="SvgjsG1227"><text id="SvgjsText1228" font-family="微软雅黑" text-anchor="middle" font-size="21px" width="149px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="21px" weight="400" font-style="" opacity="1" y="4.625" transform="rotate(0)"><tspan id="SvgjsTspan1229" dy="26" x="74.5"><tspan id="SvgjsTspan1230" style="text-decoration:;">prev</tspan></tspan></text></g></g><g id="SvgjsG1231"><path id="SvgjsPath1232" d="M376.75 807L376.75 836L376.75 836L376.75 862.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1233)"></path></g><g id="SvgjsG1235" transform="translate(182,973.5)"><path id="SvgjsPath1236" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1237"><text id="SvgjsText1238" font-family="微软雅黑" text-anchor="middle" font-size="19px" width="80px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="19px" weight="400" font-style="" opacity="1" y="20.625" transform="rotate(0)"><tspan id="SvgjsTspan1239" dy="23" x="50"><tspan id="SvgjsTspan1240" style="text-decoration:;">msg</tspan></tspan></text></g></g><g id="SvgjsG1241"><path id="SvgjsPath1242" d="M283 1008.5L376.75 1008.5L376.75 939.6" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1243)"></path><rect id="SvgjsRect1245" width="28" height="20" x="350.325" y="998.5" fill="#ffffff"></rect><text id="SvgjsText1246" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="28px" fill="#323232" font-weight="400" align="top" lineHeight="20px" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="996.5" transform="rotate(0)"><tspan id="SvgjsTspan1247" dy="20" x="364.325"><tspan id="SvgjsTspan1248" style="text-decoration:;">next</tspan></tspan></text></g><g id="SvgjsG1249"><path id="SvgjsPath1250" d="M99.25 937L99.25 1008.5L178.4 1008.5" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1251)"></path><rect id="SvgjsRect1253" width="28" height="20" x="89.075" y="998.4999999999999" fill="#ffffff"></rect><text id="SvgjsText1254" font-family="微软雅黑" text-anchor="middle" font-size="16px" width="28px" fill="#323232" font-weight="400" align="top" lineHeight="20px" anchor="middle" family="微软雅黑" size="16px" weight="400" font-style="" opacity="1" y="996.4999999999999" transform="rotate(0)"><tspan id="SvgjsTspan1255" dy="20" x="103.075"><tspan id="SvgjsTspan1256" style="text-decoration:;">next</tspan></tspan></text></g></svg>