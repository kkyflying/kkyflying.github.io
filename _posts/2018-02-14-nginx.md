---
layout: post
title:  "nginx+uwsgi"
date:   2018-02-14 13:58:49 +0800
categories: nginx
---
##前言
- 看到很django的部署都是nginx + uwsgi 来实现，我只能说赶紧抛弃uwsgi投入gunicorn的怀抱！！！
使用uwsgi需要做复杂的配置，而gunicorn只需要很简单的配置即可启动，还能兼容eventlet, gevent, tornado, gthread, gaiohttp。
[django官网的对uwsgi介绍](https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/uwsgi/) 
[django官网的对gunicorn介绍](https://docs.djangoproject.com/en/dev/howto/deployment/wsgi/gunicorn/) 
[gunicorn官网](http://docs.gunicorn.org/en/latest/install.html)

使用gunicorn启动django的命令如下：
```
gunicorn -b 127.0.0.1:8000 --worker-class=gevent yourProject.wsgi
```
--worker-class可以选择使用那个方式启动
-b 配置地址端口

##Nginx 配置
需要写入upstream模块（在这里还能做负载均衡，但是不讲～～～）
```
upstream yourapp{
       server 127.0.0.1:8000;
}
```
修改或者添加一个location模块
```
location / {
    proxy_pass http://yourapp;
}
```
![](http://upload-images.jianshu.io/upload_images/7092953-399e2b2447a4e29c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##Django配置
在django的项目中的setting.py的ALLOWED_HOSTS中加入yourapp，不然无法代理




